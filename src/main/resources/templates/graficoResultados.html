<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Monoton&family=Pacifico&family=Righteous&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <link rel="icon" type="icon/png" sizes=""href="assets/favicon.png">
    <link rel="stylesheet" href="/style.css">
         
    <title>Grafico Resultados</title>
</head>

<body th:attr="onload=|result('${resultados.totalOpcion1}','${resultados.totalOpcion2}','${encuesta.opcion1}','${encuesta.opcion2}')|">
    <nav class="nav">
        <a class="navbar-brand" id="nav-logo"  href="#">
             <img src="https://drive.google.com/uc?export=download&id=1NCoNyhyGOZLjZlD187jCdu9aYntNhV68" width="160">
           </a>
         
         <a class="nav-link"  href="#">Mi cuenta</a>
         <a class="nav-link" href="#">Mis Query's</a>
         <a class="nav-link" href="#">Preguntas Frecuentes</a> 
     </nav>

    <h1 id="hh1" th:text="${encuesta.titulo}"> TÃ­tulo</h1>
    <br>
    
    <canvas id="myChart"></canvas>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
      
    <script>
      function result(top1, top2, op1, op2) {
 
      const ctx = document.getElementById('myChart').getContext('2d');
      const myChart = new Chart(ctx, {
          type: 'doughnut',
          data: {
              labels: [op1, op2],
              datasets: [{
                  label: '# of Votes', 
                  data: [top1, top2],
                  backgroundColor: [
                      'rgba(255, 0, 110, 0.5)',
                      'rgba(58, 134, 255, 0.5)',
                      ],
                  borderColor: [
                      'rgba(255, 0, 110, 1)',
                      'rgba(58, 134, 255, 1)',
                  ],
                  
                  borderWidth: 2
              }]
          },
          options: {
              scales: {
                  y: {
                      beginAtZero: true
                  }
              }
          }
      })};
      </script>   
        
<!--<div th:fragment="footer">
    <footer class="pie-pagina">
      <div class="grupo-1">
        <div class="box">
          <figure>
            <a>
              <img src="https://drive.google.com/uc?export=download&id=1NCoNyhyGOZLjZlD187jCdu9aYntNhV68" width="160"
                class="imagen-footer">
            </a>
          </figure>
          <br>
          <div class="grupo-2">
            <a> &copy;2022 A MOVER LA QUERY!</a>
            <br>
            <a>Todos los Derechos Reservados</a>
  
          </div>
        </div>
    </footer>
  </div>-->
        
</body>

</html>